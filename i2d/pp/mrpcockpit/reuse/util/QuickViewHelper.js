/*
 * Copyright (C) 2009-2014 SAP SE or an SAP affiliate company. All rights reserved
 */
jQuery.sap.declare("i2d.pp.mrpcockpit.reuse.util.QuickViewHelper");jQuery.sap.require("i2d.pp.mrpcockpit.reuse.util.CommonConstants");i2d.pp.mrpcockpit.reuse.util.QuickViewHelper={_quickViewMetaData:{"001":{semanticObject:"SalesOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"SalesOrder"},"010":{semanticObject:"PurchaseOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PO_CHANGE,mrpElemParamName:"PurchaseOrder"},"011":{semanticObject:"PurchaseOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_TO_CHANGE,mrpElemParamName:"PurchaseOrder"},"012":{semanticObject:"PurchaseOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"PurchaseOrder"},"021":{semanticObject:"PurchaseRequisition",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogOrderReqChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PR_CHANGE,mrpElemParamName:"PurchaseRequisition",mrpElemItemParamName:"PurchaseRequisitionItem",mrpElemItemValueLength:5},"022":{semanticObject:"PurchaseRequisition",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogOrderReqChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_TOR_CHANGE,mrpElemParamName:"PurchaseRequisition",mrpElemItemParamName:"PurchaseRequisitionItem",mrpElemItemValueLength:5},"023":{semanticObject:"PurchaseRequisition",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"PurchaseRequisition",mrpElemItemParamName:"PurchaseRequisitionItem",mrpElemItemValueLength:5},"024":{semanticObject:"PurchaseRequisition",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogOrderReqChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PR_CHANGE,mrpElemParamName:"PurchaseRequisition",mrpElemItemParamName:"PurchaseRequisitionItem",mrpElemItemValueLength:5},"031":{semanticObject:"ProductionOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"ProductionOrder"},"032":{semanticObject:"ProductionOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"ProductionOrder"},"033":{semanticObject:"ProcessOrder",transactionAction:"display",factsheetAction:"displayFactSheet",editAllowed:false,editFragment:"",solutionType:"",mrpElemParamName:"ProcessOrder"},"041":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_STOCK_CHANGE,mrpElemParamName:"PlannedOrder"},"042":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_VENDOR_CHANGE,mrpElemParamName:"PlannedOrder"},"043":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_UNSRC_CHANGE,mrpElemParamName:"PlannedOrder"},"044":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_PLANT_CHANGE,mrpElemParamName:"PlannedOrder"},"045":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_PROD_CHANGE,mrpElemParamName:"PlannedOrder"},"046":{semanticObject:"PlannedOrder",transactionAction:"change",factsheetAction:"displayFactSheet",editAllowed:true,editFragment:"i2d.pp.mrpcockpit.reuse.fragments.DialogPlanOrderChange",solutionType:i2d.pp.mrpcockpit.reuse.util.CommonConstants.SOLUTIONTYPE_PA_REPLANT_CHANGE,mrpElemParamName:"PlannedOrder"}},getQuickViewMetaData:function(q){return this._quickViewMetaData[q]},getQuickViewFragment:function(m){switch(m){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_CUSORD:return"i2d.pp.mrpcockpit.reuse.fragments.SalesOrderQuickView";case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_POITEM:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_RELORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PURRQS:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRQREL:return"i2d.pp.mrpcockpit.reuse.fragments.PurchaseOrderQuickView";case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_ORDRES:return"i2d.pp.mrpcockpit.reuse.fragments.ProductionOrderQuickView";case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PLDORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_DEPREQ:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PLOREL:return"i2d.pp.mrpcockpit.reuse.fragments.PlannedOrderQuickView";default:return undefined}},getSemanticObject:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.semanticObject}else{return undefined}},getTransactionAction:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.transactionAction}else{return undefined}},getFactsheetAction:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.factsheetAction}else{return undefined}},getNavigationParameter:function(q,m,a,p){var b=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(b){var n={};if(b.mrpElemParamName){if(q==="045"){n[b.mrpElemParamName]=p}else{n[b.mrpElemParamName]=m}}if(b.mrpElemItemParamName&&a){if(b.mrpElemItemValueLength){n[b.mrpElemItemParamName]=a.slice(-b.mrpElemItemValueLength)}else{n[b.mrpElemItemParamName]=a}}return n}else{return undefined}},isHyperlinkActive:function(m,s,S){var i=s;if(!i){i=this.getModel("ServiceVersions").getData().iServiceSchemaVersion}switch(i){case 1:return false;case 2:switch(m){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_CUSORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_POITEM:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_RELORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PURRQS:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRQREL:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PLDORD:return true;default:return false}default:switch(m){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_CUSORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_POITEM:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_RELORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PURRQS:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRQREL:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PLDORD:return true;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_ORDRES:if((S===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRDORD)||(S===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD)){return true}else{return false};case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PRCORD:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_DEPREQ:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_PLOREL:return true;default:return false}}},isEditAllowed:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.editAllowed}else{return false}},getEditFragment:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.editFragment}else{return undefined}},getSolutionType:function(q){var m=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewMetaData(q);if(m){return m.solutionType}else{return undefined}},getProductionPlantVisible:function(p,m){return p!==m?true:false},getPlannedOrderContactTitle:function(q){if(!i2d.pp.mrpcockpit.reuse.util.CommonConstants.ONE_CODELINE_TEXT){switch(q){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK:return this.getModel('Common_i18n').getResourceBundle().getText("INTERNAL_CONTACT");case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_VENDOR:return this.getModel('Common_i18n').getResourceBundle().getText("VENDOR_INFO");case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC:return this.getModel('Common_i18n').getResourceBundle().getText("VENDOR_INFO");case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PLANT:return this.getModel('Common_i18n').getResourceBundle().getText("SUPPLYING_PLANT");case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD:return this.getModel('Common_i18n').getResourceBundle().getText("INTERNAL_CONTACT");case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_REPLANT:return this.getModel('Common_i18n').getResourceBundle().getText("RECEIVING_PLANT")}}else{var i,s,m;switch(q){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK:i="INTERNAL_CONTACT";break;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_VENDOR:case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC:i="VENDOR_INFO";s=i+"SoH";m=i+"ModS";if(this.getModel('ServiceVersions')){i=i2d.pp.mrpcockpit.reuse.util.Helper.getSpecialTextForFieldInt({sI18nID:i,sSoHI18nID:s,sModSI18nID:m,iServiceVersion:this.getModel('ServiceVersions').getData().iServiceSchemaVersion})}break;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PLANT:i="SUPPLYING_PLANT";break;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD:i="INTERNAL_CONTACT";break;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_REPLANT:i="RECEIVING_PLANT";break}if(i){return this.getModel('Common_i18n').getResourceBundle().getText(i)}}},getTextByProcurementType:function(q,t,a){return((q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK)||(q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD))?t:a},getTextProductionOrProcess:function(q,t,a){return((q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PRDORD)||(q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.ORDRES))?t:a},getVisibilityByQuickViewType:function(q,r){if((q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK)||(q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD)){return true}else{return false}},getVisibilityByNotQuickViewType:function(q,r){if((q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK)||(q===i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD)){return false}else{return true}},matchCategoryAndHasValue:function(v,c,r,a,b,d){var h=i2d.pp.mrpcockpit.reuse.util.CommonFormatter.hasValue(v);return(h&&(c===r||c===a||c===b||c===d))},matchCategoryAndHasValues:function(v,a,c,r,b,d,e){var h=i2d.pp.mrpcockpit.reuse.util.CommonFormatter.hasValue(v,a);return(h&&(c===r||c===b||c===d||c===e))},matchCategoryAndHasValues3:function(v,a,b,c,r,d,e,f){var h=i2d.pp.mrpcockpit.reuse.util.CommonFormatter.hasValue(v,a,b);return(h&&(c===r||c===d||c===e||c===f))},matchCategoryHasValues5:function(v,a,b,c,q){if((v==null||v=="")||(a==null||a=="")||(b==null||b=="")||(c==null||c=="")||(q==null||q=="")){return false};switch(q){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD:if(v==0&&a==0&&b==0&&c==0){return false}else{return true}default:return false}},matchCategoryHasValues4DiffPlants:function(v,a,b,c,d,r,e,f,g){if(v==null||a==null||b==null||c==null){return};if(b===c){if((v==0)||(v=='')&&(a==0)||(a=='')&&(b==0)||(b=='')&&(c==0)||(c=='')){return(false&&(d===r||d===e||d===f||d===g))}return(true&&(d===r||d===e||d===f||d===g))}else if(b!==c){return(true&&(d===r||d===e||d===f||d===g))}},matchCategoryForEveryValue:function(v,c,r,a,b,d){var e=i2d.pp.mrpcockpit.reuse.util.CommonFormatter.isValueGreaterEqualZero(v);return(e&&(c===r||c===a||c===b||c===d))},matchCategoryUnsrc:function(v,q){if(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC){return true}else{return false}},matchCategoryVendor:function(v,q){if((q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_VENDOR)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC)){return true}else{return false}},matchCategoryProcurement:function(v,q){if((q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD)){return true}else{return false}},matchCategoryPlanned:function(v,q){if((q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_VENDOR)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PLANT)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD)||(q==i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_REPLANT)){return true}else{return false}},matchDifferentValue:function(v,a){var h=i2d.pp.mrpcockpit.reuse.util.CommonFormatter.hasValue(v);return(h&&(v!==a))},handlePressDispoElementQuickView:function(e,t){t._oSelectedMRPElementItem=e.getSource();var m=t._oSelectedMRPElementItem.getBindingContext().getObject();if(!t._oQuickViewContainer){t._oQuickViewContainer={}}var v=i2d.pp.mrpcockpit.reuse.util.QuickViewHelper.getQuickViewFragment(m.MRPElementCategory);var q=undefined;if(!t._oQuickViewContainer[v]){q=sap.ui.xmlfragment(v,t);q.setModel(t.oApplicationImplementation.getApplicationModel("ServiceVersions"),"ServiceVersions");q.setModel(t.getView().getModel("Common_i18n"),"Common_i18n");q.setModel(t.getView().getModel());var Q=new sap.ui.model.json.JSONModel(i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT);q.setModel(Q,"QuickViewConstantsModel");var M=new sap.ui.model.json.JSONModel(i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRPElementCategory);q.setModel(M,"MRPElementConstantsModel")}else{q=t._oQuickViewContainer[v]}var a="/QuickViews(";if(m.MRPElementCategory===i2d.pp.mrpcockpit.reuse.util.CommonConstants.MRP_ELEMENT_CATEGORY_ORDRES){a+="MRPElementCategory='"+encodeURIComponent(m.SourceMRPElementCategory)+"',";a+="MRPElement='"+encodeURIComponent(m.SourceMRPElement)+"',";a+="MRPElementItem='"+encodeURIComponent(m.SourceMRPElementItem)+"',";a+="MRPElementScheduleLine='"+encodeURIComponent(m.SourceMRPElementScheduleLine)+"'"}else{a+="MRPElementCategory='"+encodeURIComponent(m.MRPElementCategory)+"',";a+="MRPElement='"+encodeURIComponent(m.MRPElement)+"',";a+="MRPElementItem='"+encodeURIComponent(m.MRPElementItem)+"',";a+="MRPElementScheduleLine='"+encodeURIComponent(m.MRPElementScheduleLine)+"'"}a+=")";q.bindElement(a);t._oQuickViewContainer[v]=q},destroyQuickViews:function(t){if(t._oQuickViewContainer){for(var i in t._oQuickViewContainer){if(t._oQuickViewContainer[i]){t._oQuickViewContainer[i].destroy();t._oQuickViewContainer[i]=undefined}}}},matchCategoryValueInAnyField:function(v,a,b,q){switch(q){case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_STOCK:if(v==null||v==""){return false}else{return true}case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_VENDOR:return false;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_UNSRC:return false;case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PLANT:if(b==null||b==""){return false}else{return true}case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_PROD:if(v==null||v==""){return false}else{return true}case i2d.pp.mrpcockpit.reuse.util.CommonConstants.QUICKVIEW_CAT.PLANORD_REPLANT:if(b==null||b==""){return false}else{return true}}}};
